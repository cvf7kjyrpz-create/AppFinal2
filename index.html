<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<title>Lager App</title>
<link rel="stylesheet" href="style.css">
<link rel="manifest" href="manifest.json">
</head>

<body>

<div id="appContainer">

    <!-- ▌ OBERER TEIL (NICHT MEHR ÄNDERN!)  -->
    <div id="topArea">
        <div class="counterRow">
            <div class="counterBox"><span class="label">Artikel:</span><span id="countItems">0</span></div>
            <div class="counterBox"><span class="label">Menge:</span><span id="countQty">0</span></div>
        </div>
        <div class="counterRow">
            <div class="counterBox"><span class="label">Wert Jetzt:</span><span id="valueNow">0 €</span></div>
            <div class="counterBox"><span class="label">Wert Gesamt:</span><span id="valueTotal">0 €</span></div>
        </div>

        <div id="buttonRow">
            <button class="mainBtn" onclick="openAddPopup()">Artikel anlegen</button>
            <button class="mainBtn" onclick="openSearchPopup()">Suchen</button>
            <button class="mainBtn" onclick="exportBackup()">Backup speichern</button>
            <button class="mainBtn" onclick="importBackup()">Backup laden</button>
            <button class="mainBtn" onclick="generatePDF()">Inventur PDF</button>
        </div>
    </div>

    <!-- ▌ TABELLENBEREICH -->
    <div id="tableContainer">
        <div id="tableWrapper">
            <table id="articleTable">
                <thead>
                    <tr>
                        <th>Nr</th>
                        <th>Name</th>
                        <th>Menge</th>
                        <th>Preis</th>
                        <th>Ort</th>
                        <th>Datum</th>
                        <th>Größe</th>
                        <th>Bild</th>
                        <th>Notiz</th>
                        <th>Bearbeiten</th>
                        <th>Mark.</th>
                        <th>Löschen</th>
                    </tr>
                </thead>
                <tbody id="tableBody"></tbody>
            </table>
        </div>
    </div>

</div>

<!-- ▌ POPUP: ARTIKEL ANLEGEN -->
<div id="popupOverlay" class="hidden">
    <div id="popup">
        <h2>Artikel anlegen</h2>

        <label>Artikelnummer</label>
        <input id="addNr">

        <label>Artikelname</label>
        <input id="addName">

        <label>Menge</label>
        <input type="number" id="addQty">

        <label>Preis (€)</label>
        <input type="number" step="0.01" id="addPrice">

        <label>Ort</label>
        <input id="addWhere">

        <label>Kaufdatum</label>
        <input id="addDate" type="date">

        <label>Größe</label>
        <input id="addSize">

        <label>Notiz</label>
        <textarea id="addNote"></textarea>

        <label>Bild / Rechnung</label>
        <input type="file" id="addImage">

        <div class="popupButtons">
            <button onclick="saveArticle()" class="saveBtn">Speichern</button>
            <button onclick="closePopup()" class="cancelBtn">Abbrechen</button>
        </div>
    </div>
</div>

<!-- ▌ POPUP: SUCHE -->
<div id="searchOverlay" class="hidden">
    <div id="searchPopup">
        <h2>Suche in…</h2>

        <button class="searchBtn" onclick="selectSearchColumn('nr')">Artikelnummer</button>
        <button class="searchBtn" onclick="selectSearchColumn('name')">Name</button>
        <button class="searchBtn" onclick="selectSearchColumn('date')">Datum</button>
        <button class="searchBtn" onclick="selectSearchColumn('size')">Größe</button>
        <button class="searchBtn" onclick="selectSearchColumn('where')">Ort</button>

        <button class="cancelBtn" onclick="closeSearchPopup()">Abbrechen</button>
    </div>
</div>

<script src="app.js"></script>
<script>
if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register("sw.js");
}
</script>

</body>
</html>
